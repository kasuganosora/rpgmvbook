# 从单机 RPG 到 MMO：多人在线游戏开发

## 前言

MMO（Massively Multiplayer Online）大型多人在线游戏，是单机游戏的进阶形态。本系列将带你从零开始理解 MMO 开发的每个环节。

## 单机 vs MMO 的核心区别

```
单机 RPG：
┌─────────────────────┐
│      游戏客户端       │
│   ┌───────────────┐  │
│   │   游戏逻辑     │  │  ← 所有逻辑在本地
│   │   游戏数据     │  │  ← 数据存在本地
│   │   存档系统     │  │  ← 可以随意修改
│   └───────────────┘  │
└─────────────────────┘

MMO：
┌──────────────┐               ┌──────────────────┐
│   客户端 A   │◄─────────────►│                  │
├──────────────┤               │                  │
│   客户端 B   │◄─────────────►│    游戏服务器     │
├──────────────┤               │  ┌────────────┐  │
│   客户端 C   │◄─────────────►│  │ 游戏逻辑   │  │  ← 逻辑在服务器
├──────────────┤               │  │ 数据验证   │  │  ← 验证所有操作
│     ...     │◄─────────────►│  └────────────┘  │
└──────────────┘               │  ┌────────────┐  │
                               │  │  数据库    │  │  ← 数据持久化
                               │  └────────────┘  │
                               └──────────────────┘
```

### 三个核心变化

| 维度 | 单机 RPG | MMO | 为什么这样变？ |
|------|---------|-----|---------------|
| **逻辑位置** | 客户端 | 服务器 | 防作弊，保证公平 |
| **数据存储** | 本地文件 | 数据库 | 多设备同步，持久化 |
| **信任模型** | 信任本地 | 不信任客户端 | 防止修改数据 |

## 本系列内容

| 章节 | 文件 | 内容 | 难度 |
|------|------|------|------|
| **网络基础** | [01-network-basics.md](01-network-basics.md) | TCP/UDP/WebSocket、协议选择 | ★★☆ |
| **服务器架构** | [02-server-architecture.md](02-server-architecture.md) | 从单服到微服务的演进 | ★★★ |
| **数据同步** | [03-data-sync.md](03-data-sync.md) | 状态同步、帧同步、预测校正 | ★★★★ |
| **数据库设计** | [04-database.md](04-database.md) | MySQL、Redis、缓存策略 | ★★★ |
| **安全性** | [05-security.md](05-security.md) | 防作弊、数据加密、验证原则 | ★★★★ |
| **实战案例** | [06-practice.md](06-practice.md) | 完整的聊天+移动 MMO | ★★★ |

## 学习路线

```
第1步：理解网络基础
   ↓  知道数据如何在网络上传输
第2步：搭建简单服务器
   ↓  能让多个客户端连接
第3步：实现数据同步
   ↓  玩家能看到其他玩家
第4步：接入数据库
   ↓  数据能保存和读取
第5步：加强安全性
   ↓  防止作弊和攻击
第6步：完整实战
   ↓  做一个可玩的 Demo
```

## 先决条件

开始之前，你需要：

1. **JavaScript 基础**：变量、函数、对象、异步
2. **Node.js 环境**：能运行 `node server.js`
3. **网络概念**：知道什么是 IP、端口
4. **RPG Maker MV 基础**：已完成前面的引擎教程

## 工具准备

```bash
# 安装 Node.js 后，安装必要的包
npm init -y
npm install ws           # WebSocket 服务器
npm install mysql2        # MySQL 客户端
npm install redis         # Redis 客户端
npm install express       # HTTP 服务器（可选）
```

## 适合的团队规模

| 团队规模 | 适合的项目类型 | 预计时间 |
|---------|--------------|---------|
| **1人** | 简单聊天室、小地图移动 | 1-2 周 |
| **2-3人** | 小型 MMO Demo | 1-2 月 |
| **5-10人** | 完整功能 MMO | 3-6 月 |
| **20+人** | 商业级 MMO | 1年+ |

## 重要提醒

> **永远不要信任客户端！**
> 
> 这是 MMO 开发的第一条规则。任何来自客户端的数据都必须经过服务器验证。

## 快速开始

想快速体验？跳到 [实战案例](06-practice.md)，直接运行一个简单的 MMO Demo。

想系统学习？从 [网络基础](01-network-basics.md) 开始。
